{
    "dashboard": {
        "uid": "soroban-publishers",
        "title": "Soroban Registry â€” Publishers",
        "timezone": "utc",
        "refresh": "10s",
        "panels": [
            {
                "title": "Contracts per Publisher (top 10)",
                "type": "bargauge",
                "gridPos": {
                    "h": 10,
                    "w": 12,
                    "x": 0,
                    "y": 0
                },
                "targets": [
                    {
                        "expr": "topk(10, soroban_contracts_per_publisher)",
                        "legendFormat": "{{publisher}}",
                        "instant": true
                    }
                ]
            },
            {
                "title": "Total Publishers",
                "type": "stat",
                "gridPos": {
                    "h": 5,
                    "w": 6,
                    "x": 12,
                    "y": 0
                },
                "targets": [
                    {
                        "expr": "soroban_publishers_total",
                        "legendFormat": "publishers"
                    }
                ]
            },
            {
                "title": "Registration Rate",
                "type": "timeseries",
                "gridPos": {
                    "h": 5,
                    "w": 6,
                    "x": 18,
                    "y": 0
                },
                "targets": [
                    {
                        "expr": "rate(soroban_publisher_registrations_total[5m])",
                        "legendFormat": "reg/s"
                    }
                ]
            },
            {
                "title": "Publish Rate by Publisher",
                "type": "timeseries",
                "gridPos": {
                    "h": 10,
                    "w": 12,
                    "x": 12,
                    "y": 5
                },
                "targets": [
                    {
                        "expr": "sum(rate(soroban_contracts_published_total[5m])) by (publisher)",
                        "legendFormat": "{{publisher}}"
                    }
                ]
            }
        ]
    }
}